body{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Fira Sans,Droid Sans,Helvetica Neue,sans-serif;margin:0}code{font-family:source-code-pro,Menlo,Monaco,Consolas,Courier New,monospace}.story-panel{background-color:var(--white);border:2px solid var(--border-gray);border-radius:15px;box-shadow:0 8px 24px #0000001a;display:flex;flex-direction:column;height:780px;padding:20px;position:relative;width:100%}.story-illustration{background-color:var(--light-gray);border-radius:10px;flex:1 1;margin-bottom:20px;min-height:400px;overflow:hidden}.story-illustration,.story-image-slider{align-items:center;display:flex;justify-content:center;position:relative}.story-image-slider{height:100%;width:100%}.story-image{border-radius:8px;box-shadow:0 4px 8px #0000001a;max-height:100%;max-width:100%;object-fit:contain;opacity:0;position:absolute;transition:opacity .5s ease}.story-image.active{opacity:1;position:relative}.page-nav-buttons{display:flex;justify-content:space-between;padding:0 20px;position:absolute;width:100%;z-index:10}.page-nav-btn{align-items:center;background-color:#7b5dd1cc;border:none;border-radius:50%;box-shadow:0 4px 8px #0003;cursor:pointer;display:flex;height:60px;justify-content:center;transition:all .3s ease;width:60px}.page-nav-btn:hover{background-color:var(--main-purple);transform:scale(1.05)}.page-nav-btn:disabled{background-color:#c8c8c880;box-shadow:none;cursor:not-allowed;transform:scale(1)}.arrow-left,.arrow-right{border-bottom:12px solid #0000;border-top:12px solid #0000;height:0;width:0}.arrow-left{border-right:20px solid #fff;margin-right:5px}.arrow-right{border-left:20px solid #fff;margin-left:5px}.story-text{background-color:#f9f4ff;border-radius:10px;color:var(--dark-text);flex-shrink:0;font-size:18px;height:auto;line-height:1.5;max-height:200px;min-height:120px;overflow-y:auto;padding:15px}.story-text p{margin-bottom:8px}.progress-indicator{align-items:center;display:flex;justify-content:space-between;margin-top:15px}.progress-bar{background-color:var(--light-gray);border-radius:5px;height:10px;overflow:hidden;width:300px}.progress-fill{background-color:var(--main-purple);border-radius:5px;height:100%;transition:width .3s ease}.progress-text{color:var(--light-text);font-size:14px;font-weight:700}.generating-indicator{align-items:center;color:var(--main-purple);display:flex;flex-direction:column;height:100%;justify-content:center}.generating-spinner{animation:spin 1s linear infinite;border-top:4px solid var(--light-gray);border:4px solid var(--light-gray);border-radius:50%;border-top-color:var(--main-purple);height:50px;margin-bottom:20px;width:50px}.generate-btn,.generating-text{font-size:16px;font-weight:700}.generate-btn{background-color:var(--main-purple);border:none;border-radius:25px;color:#fff;cursor:pointer;padding:12px 24px;transition:background-color .3s ease}.generate-btn:hover{background-color:var(--light-purple)}.audio-playing-indicator{align-items:center;background-color:#7b5dd1e6;border-radius:15px;color:#fff;display:flex;font-size:12px;font-weight:700;gap:5px;padding:5px 10px;position:absolute;right:10px;top:10px}.audio-generating-indicator{background-color:#ffffffe6;border-radius:20px;bottom:10px;box-shadow:0 2px 8px #0000001a;color:var(--main-purple);font-size:12px;font-weight:700;left:50%;padding:8px 16px;position:absolute;transform:translateX(-50%)}.image-placeholder{align-items:center;color:var(--light-text);display:flex;flex-direction:column;height:100%;justify-content:center}.image-placeholder-icon{font-size:48px;margin-bottom:20px;opacity:.3}@media (max-width:900px){.story-panel{height:auto;min-height:500px}.story-illustration{height:350px;min-height:350px}.story-image{max-height:320px}.page-nav-buttons{padding:0 10px}.page-nav-btn{height:50px;width:50px}.story-text{height:auto;max-height:170px;min-height:100px}.progress-bar{width:200px}}@media (max-width:600px){.story-panel{padding:15px}.story-illustration{height:250px;min-height:250px}.story-image{max-height:220px}.page-nav-btn{height:40px;width:40px}.arrow-left,.arrow-right{border-bottom:8px solid #0000;border-top:8px solid #0000}.arrow-left{border-right:16px solid #fff}.arrow-right{border-left:16px solid #fff}.story-text{font-size:16px}.progress-bar{width:150px}}.story-image-clickable{cursor:pointer;transition:transform .2s ease}.story-image-clickable:hover{transform:scale(1.02)}.save-story-container{left:10px;position:absolute;top:10px;z-index:20}.save-story-btn{align-items:center;background:linear-gradient(135deg,#4caf50,#45a049);border:none;border-radius:20px;box-shadow:0 2px 8px #4caf504d;color:#fff;cursor:pointer;display:inline-flex;font-size:12px;font-weight:600;gap:4px;opacity:.9;padding:6px 12px;transition:all .3s ease}.save-story-btn:hover{background:linear-gradient(135deg,#45a049,#388e3c);box-shadow:0 4px 12px #4caf5066;opacity:1;transform:translateY(-1px)}.save-story-btn:active{box-shadow:0 1px 6px #4caf504d;transform:translateY(0)}.save-icon{font-size:14px}.save-text{font-family:Hiragino Sans,Yu Gothic,sans-serif;font-size:12px}.save-description{display:none}.speaker-indicator{align-items:center;background-color:#7b5dd1e6;border-radius:50%;bottom:10px;box-shadow:0 2px 8px #0000004d;color:#fff;cursor:pointer;display:flex;font-size:16px;height:40px;justify-content:center;position:absolute;right:10px;transition:all .3s ease;width:40px;z-index:15}.speaker-indicator:hover{background-color:#7b5dd1;box-shadow:0 4px 12px #0006;transform:scale(1.1)}.speaker-indicator.playing{animation:pulse 1.5s infinite;background-color:#4caf50e6}.speaker-indicator.generating{animation:spin 1s linear infinite;background-color:#ff9800e6}@keyframes pulse{0%,to{opacity:.9}50%{opacity:1}}.story-completion-overlay{align-items:center;background-color:#000000b3;bottom:0;display:flex;justify-content:center;left:0;position:absolute;right:0;top:0;z-index:25}.completion-buttons{align-items:center;display:flex;flex-direction:column;gap:15px}.completion-btn{background:linear-gradient(135deg,#6366f1,#8b5cf6);border:none;border-radius:25px;box-shadow:0 4px 12px #6366f14d;color:#fff;cursor:pointer;font-size:16px;font-weight:700;min-width:200px;padding:12px 24px;transition:all .3s ease}.completion-btn:hover{background:linear-gradient(135deg,#4f46e5,#7c3aed);box-shadow:0 6px 16px #6366f166;transform:translateY(-2px)}.completion-btn.read-again{background:linear-gradient(135deg,#10b981,#059669)}.completion-btn.read-again:hover{background:linear-gradient(135deg,#047857,#065f46)}.completion-btn.dashboard{background:linear-gradient(135deg,#f59e0b,#d97706)}.completion-btn.dashboard:hover{background:linear-gradient(135deg,#d97706,#b45309)}.completion-btn.emotion{background:linear-gradient(135deg,#ef4444,#dc2626)}.completion-btn.emotion:hover{background:linear-gradient(135deg,#dc2626,#b91c1c)}.reaction-space{background-color:#f0f8ff;border:2px solid #e0e7ff;border-radius:12px;flex-shrink:0;margin:10px 0;padding:10px 15px;position:relative;text-align:center}.reaction-prompt{color:var(--main-purple);font-family:Hiragino Sans,Yu Gothic,sans-serif;font-size:16px;font-weight:700;margin-bottom:10px}.reaction-buttons{display:flex;flex-wrap:wrap;gap:10px;justify-content:center}.reaction-btn{background:linear-gradient(135deg,#a855f7,#8b5cf6);border:none;border-radius:20px;box-shadow:0 2px 6px #a855f74d;color:#fff;cursor:pointer;font-family:Hiragino Sans,Yu Gothic,sans-serif;font-size:14px;font-weight:700;min-width:80px;padding:8px 16px;transition:all .3s ease}.reaction-btn:hover{background:linear-gradient(135deg,#9333ea,#7c3aed);box-shadow:0 4px 10px #a855f766;transform:translateY(-1px)}.reaction-btn:active{box-shadow:0 1px 4px #a855f74d;transform:translateY(0)}.reaction-btn.reaction-selected{background:linear-gradient(135deg,#10b981,#059669);border:2px solid #065f46;box-shadow:0 3px 8px #10b98166;color:#fff;transform:scale(1.02)}.reaction-btn.reaction-selected:hover{background:linear-gradient(135deg,#047857,#065f46);box-shadow:0 4px 10px #10b98180;transform:scale(1.03)}.transition-progress-container{background-color:#7b5dd133;border-radius:0 0 10px 10px;bottom:0;height:4px;left:0;overflow:hidden;position:absolute;right:0}.transition-progress-bar{background:linear-gradient(90deg,#a855f7,#8b5cf6);border-radius:0 0 10px 10px;box-shadow:0 0 8px #a855f780;height:100%;transition:width .05s linear}@media (max-width:600px){.reaction-space{margin:10px 0;padding:10px}.reaction-prompt{font-size:14px;margin-bottom:8px}.reaction-btn{font-size:12px;min-width:60px;padding:6px 12px}.reaction-buttons{gap:8px}}.dashboard-container{grid-gap:20px;display:grid;gap:20px;grid-template-areas:"activity analysis" "reaction reaction" "vocabulary vocabulary";grid-template-columns:1fr 1fr;grid-template-rows:auto auto auto;margin-top:20px}@media screen and (max-width:768px){.dashboard-container{grid-gap:15px!important;display:grid!important;gap:15px!important;grid-template-areas:"activity" "analysis" "reaction" "vocabulary"!important;grid-template-columns:1fr!important;grid-template-rows:auto auto auto auto!important;margin-top:15px!important;place-items:stretch!important;width:100%!important}.subtitle{font-size:16px!important;margin-bottom:12px!important}.activity-panel,.analysis-panel,.reaction-panel,.sub-panel{align-self:stretch!important;float:none!important;grid-column:1!important;justify-self:stretch!important;left:auto!important;margin-bottom:0!important;margin-left:0!important;margin-right:0!important;position:relative!important;right:auto!important;width:100%!important}.activity-panel{order:1!important}.analysis-panel{order:2!important}.reaction-panel{order:3!important}.sub-panel{order:4!important}}.activity-panel{background-color:#fff;background-color:var(--white);border:2px solid #e0e0e0;border:2px solid var(--border-gray);border-radius:15px;grid-area:activity;height:270px;overflow:auto;padding:20px}@media (max-width:768px){.activity-panel{border-radius:12px;height:auto;max-height:300px;min-height:200px;padding:15px}}.analysis-panel{align-items:center;background-color:#fff;background-color:var(--white);border:2px solid #e0e0e0;border:2px solid var(--border-gray);border-radius:15px;display:flex;flex-direction:column;grid-area:analysis;height:270px;justify-content:center;margin-bottom:0;padding:20px}.analysis-panel .subtitle{align-self:flex-start;margin-bottom:20px;margin-top:0}@media (max-width:768px){.analysis-panel{border-radius:12px;height:auto;min-height:250px;padding:15px}.analysis-panel .subtitle{font-size:16px;margin-bottom:15px}}.reaction-panel{background-color:#fff;background-color:var(--white);border:2px solid #e0e0e0;border:2px solid var(--border-gray);border-radius:15px;grid-area:reaction;max-height:400px;min-height:200px;overflow:auto;padding:20px}@media (max-width:768px){.reaction-panel{border-radius:12px;max-height:350px;min-height:180px;padding:15px}}.sub-panel{background-color:#fff;background-color:var(--white);border:2px solid #e0e0e0;border:2px solid var(--border-gray);border-radius:15px;display:flex;flex-direction:column;grid-area:vocabulary;max-height:700px;min-height:270px;overflow:hidden;padding:20px}@media (max-width:768px){.sub-panel{border-radius:12px;max-height:600px;min-height:250px;padding:15px}}.activity-card{align-items:center;background-color:#f9f4ff;border-radius:10px;display:flex;margin-bottom:10px;padding:15px}.empty-state{background-color:#f8f9fa;border-radius:10px;color:#777;color:var(--light-text);margin:20px 0;padding:40px 20px;text-align:center}.empty-state p{font-size:14px;line-height:1.5;margin:10px 0}.empty-state p:first-child{color:#333;color:var(--dark-text);font-weight:700}.activity-icon{background-color:#a5d6a7;background-color:var(--pastel-green);border-radius:50%;flex-shrink:0;height:50px;margin-right:20px;position:relative;width:50px}.activity-check{left:15px;position:absolute;top:15px}.activity-check:before{border-bottom:3px solid #4caf50;border-left:3px solid #4caf50;content:"";height:10px;position:absolute;transform:rotate(-45deg);width:20px}.activity-info{flex:1 1}.activity-title{color:#333;color:var(--dark-text);font-size:16px;font-weight:700;margin-bottom:5px}.activity-time{color:#777;color:var(--light-text);font-size:14px}.pie-chart-container{align-items:center;display:flex;justify-content:center;margin:0 auto;max-width:400px;position:relative;width:100%}.pie-chart{background:conic-gradient(#4caf50 0 45%,#ff9800 45% 70%,#2196f3 70% 85%,#9c27b0 85% 95%,#9e9e9e 95% 100%);border-radius:50%;flex-shrink:0;height:140px;margin:0;position:relative;width:140px}.pie-chart-center{background-color:#fff;background-color:var(--white);border-radius:50%;height:70px;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:70px}.pie-chart-legend{display:flex;flex:1 1;flex-direction:column;justify-content:center;margin-left:15px}.legend-item{align-items:center;display:flex;margin-bottom:4px}.legend-item:last-child{margin-bottom:0}.legend-color{flex-shrink:0;height:12px;margin-right:8px;width:12px}.legend-color-happy{background-color:#4caf50}.legend-color-interest{background-color:#ff9800}.legend-color-surprise{background-color:#2196f3}.legend-color-thinking{background-color:#9c27b0}.legend-color-other{background-color:#9e9e9e}.legend-text{color:#333;color:var(--dark-text);font-size:12px;line-height:1.2}.report-section{flex:1 1;margin-bottom:20px;overflow-y:auto}.report-header{align-items:center;display:flex;justify-content:space-between;margin-bottom:10px}.report-title{color:#333;color:var(--dark-text);font-size:16px}.report-value{color:#9c27b0;color:var(--main-purple);font-size:16px;font-weight:700}.report-divider{background-color:#e0e0e0;background-color:var(--border-gray);height:1px;margin-bottom:15px}.vocabulary-list{display:flex;flex-wrap:wrap;gap:5px;line-height:1.6;margin-bottom:15px}.recommendation,.vocabulary-list{color:#777;color:var(--light-text);font-size:14px}:root{--light-text:#777;--main-purple:#9c27b0;--pastel-green:#a5d6a7;--pastel-yellow:#fff3b3}.vocabulary-by-pos{flex:1 1;margin-bottom:20px;max-height:400px;overflow-y:auto}.pos-section{margin-bottom:15px}.pos-header{align-items:center;background-color:#f8f9fa;border-bottom:1px solid #e0e0e0;border-bottom:1px solid var(--border-gray);border-radius:4px;display:flex;justify-content:space-between;margin-bottom:8px;padding:8px 10px;transition:background-color .2s ease}.pos-header:hover{background-color:#e9ecef}.pos-header.collapsible-header{cursor:pointer;-webkit-user-select:none;user-select:none}.collapse-icon{display:inline-block;font-size:12px;margin-right:8px;transition:transform .2s ease}.collapse-icon,.pos-label{color:#9c27b0;color:var(--main-purple)}.pos-label{font-size:14px;font-weight:700}.pos-count{color:#777;color:var(--light-text);font-size:12px}.vocabulary-grid{grid-gap:6px;background-color:#fafafa;border-radius:6px;display:grid;gap:6px;grid-template-columns:repeat(auto-fill,minmax(90px,1fr));margin-bottom:10px;padding:8px}.vocabulary-item{align-items:center;background-color:#f8f9fa;border:1px solid #e0e0e0;border:1px solid var(--border-gray);border-radius:6px;cursor:help;display:flex;font-size:12px;justify-content:space-between;padding:6px 8px;position:relative;transition:all .2s ease}.vocabulary-item:hover{background-color:#e9ecef;border-color:#9c27b0;border-color:var(--main-purple)}.vocabulary-item.new{background-color:#e8f5e8;border-color:#4caf50}.vocabulary-item.learned{background-color:#f3e5f5;border-color:#9c27b0;border-color:var(--main-purple);opacity:.7}.vocabulary-item.clickable{cursor:pointer}.vocabulary-item.clickable:hover{box-shadow:0 2px 8px #4caf504d;transform:translateY(-1px)}.vocabulary-item .word{color:#333;color:var(--dark-text);flex:1 1;font-weight:700;margin-right:4px}.vocabulary-item .difficulty{color:#ff9800;font-size:10px;margin-right:2px}.vocabulary-item .new-badge{border-radius:3px;line-height:1;padding:1px 3px;right:-2px;top:-2px}.vocabulary-item .learn-hint,.vocabulary-item .new-badge{background-color:#4caf50;color:#fff;font-size:8px;position:absolute}.vocabulary-item .learn-hint{align-items:center;border-radius:50%;display:flex;height:14px;justify-content:center;opacity:.8;right:8px;top:-5px;width:14px}.difficulty-summary{background-color:#f8f9fa;border-radius:8px;margin-top:20px;padding:15px}.summary-title{color:#333;color:var(--dark-text);font-size:14px;font-weight:700;margin-bottom:12px}.difficulty-bars{display:flex;flex-direction:column;gap:8px}.difficulty-bar{align-items:center;display:flex;font-size:12px;gap:8px}.level-label{color:#ff9800;font-weight:700;text-align:center;width:30px}.bar-container{background-color:#e0e0e0;border-radius:6px;flex:1 1;height:12px;overflow:hidden}.bar-fill{background:linear-gradient(90deg,#4caf50,#8bc34a);height:100%;transition:width .3s ease}.count-label{color:#777;color:var(--light-text);text-align:right;width:40px}.sub-panel .subtitle{align-items:center;display:flex;gap:10px}.vocab-tabs{border-bottom:2px solid #e0e0e0;border-bottom:2px solid var(--border-gray);display:flex;margin-bottom:15px}.vocab-tab{background:none;border:none;border-bottom:3px solid #0000;color:#777;color:var(--light-text);cursor:pointer;flex:1 1;font-size:14px;font-weight:700;padding:10px 15px;text-align:center;transition:all .3s ease}.vocab-tab:hover{background-color:#f8f9fa;color:#333;color:var(--dark-text)}.vocab-tab.active{background-color:#f3e5f5;border-bottom-color:#9c27b0;border-bottom-color:var(--main-purple);color:#9c27b0;color:var(--main-purple)}.empty-tab-state{color:#777;color:var(--light-text);font-style:italic;padding:20px;text-align:center}.bar-fill-difficulty{border-radius:6px;height:100%;transition:width .3s ease}@media (max-width:1024px){.dashboard-container{grid-gap:15px!important;display:grid!important;gap:15px!important;grid-template-areas:"activity" "analysis" "reaction" "vocabulary"!important;grid-template-columns:1fr!important;grid-template-rows:auto auto auto auto!important;place-items:stretch!important}.activity-panel,.analysis-panel,.reaction-panel,.sub-panel{align-self:stretch!important;float:none!important;grid-column:1!important;justify-self:stretch!important;left:auto!important;margin-bottom:0!important;margin-left:0!important;margin-right:0!important;position:relative!important;right:auto!important;width:100%!important}.activity-panel{height:auto;max-height:270px;min-height:auto;order:1!important}.analysis-panel{height:auto;order:2!important}.reaction-panel{order:3!important}.sub-panel{height:auto;order:4!important}}@media (max-width:768px){.vocabulary-grid{gap:4px;grid-template-columns:repeat(auto-fill,minmax(80px,1fr))}.vocabulary-item{font-size:11px;padding:4px 6px}.difficulty-bar{font-size:11px}.level-label{width:25px}.count-label{width:35px}.vocab-tab{font-size:12px;padding:8px 10px}.empty-tab-state{font-size:12px;padding:15px}.pos-header{padding:6px 8px}.pos-label{font-size:13px}.pos-count{font-size:11px}}.reaction-history{display:flex;flex-direction:column;gap:12px}.story-reaction-card{background-color:#f8f9fa;border:1px solid #e0e0e0;border-radius:12px;overflow:hidden;transition:box-shadow .2s ease}.story-reaction-card:hover{box-shadow:0 2px 8px #0000001a}.story-reaction-header{align-items:center;background-color:#fff;border-bottom:1px solid #e0e0e0;display:flex;justify-content:space-between;padding:16px}.story-info h3.story-title{color:#333;font-size:16px;font-weight:600;margin:0 0 4px}.story-summary{color:#666;font-size:13px;margin:0}.expand-icon{color:#666;font-size:14px;font-weight:700}.story-reactions-detail{background-color:#fafbfc;padding:0 16px 16px}.reaction-item{align-items:flex-start;border-bottom:1px solid #e8e9ea;display:flex;gap:12px;padding:12px 0}.reaction-item:last-child{border-bottom:none}.reaction-page{background-color:#e3f2fd;border-radius:12px;color:#1976d2;flex-shrink:0;font-size:12px;font-weight:600;min-width:60px;padding:4px 8px;text-align:center}.reaction-content{display:flex;flex:1 1;flex-direction:column;gap:6px}.reaction-question{color:#555;font-size:13px;font-weight:500;line-height:1.4;margin-bottom:4px}.reaction-answer{align-items:flex-start;display:flex}.reaction-text{word-wrap:break-word;background-color:#e3f2fd;border:1px solid #bbdefb;border-radius:20px;color:#1976d2;display:inline-block;font-size:14px;font-weight:500;line-height:1.4;max-width:250px;padding:8px 16px}.reaction-time{color:#999;font-size:11px;margin-top:2px}.emotion-learning-badge{background:linear-gradient(135deg,#f5f5f5,#ffffff4d);background:linear-gradient(135deg,var(--badge-color,#f5f5f5) 0,#ffffff4d 100%);box-shadow:0 2px 4px #0000001a;transition:all .2s ease}.emotion-learning-badge:hover{box-shadow:0 3px 8px #00000026;transform:translateY(-1px)}.detected-emotion-badge{background:linear-gradient(135deg,#f5f5f5,#ffffff4d);background:linear-gradient(135deg,var(--badge-color,#f5f5f5) 0,#ffffff4d 100%);box-shadow:0 2px 4px #0000001a;opacity:.9;transition:all .2s ease}.detected-emotion-badge:hover{box-shadow:0 3px 8px #00000026;opacity:1;transform:translateY(-1px)}@media (max-width:768px){.story-reaction-header{padding:12px}.story-info h3.story-title{font-size:14px}.story-summary{font-size:12px}.reaction-item{flex-direction:column;gap:8px;padding:10px 0}.reaction-page{align-self:flex-start}.reaction-text{font-size:13px;max-width:180px;padding:6px 12px}.reaction-question{font-size:12px}.emotion-learning-badge{margin-top:6px!important}.detected-emotion-badge,.emotion-learning-badge{font-size:11px!important;padding:3px 8px!important}.detected-emotion-badge{margin-left:4px!important;margin-top:4px!important}}*{box-sizing:border-box;font-family:Arial,sans-serif;margin:0;padding:0}:root{--main-purple:#7b5dd1;--light-purple:#8c6be3;--bg-purple:#f7f2ff;--accent-yellow:#ffd25a;--pastel-purple:#e1bee7;--pastel-blue:#bbdefb;--pastel-green:#c8e6c9;--pastel-yellow:#fff9c4;--pastel-orange:#ffcc80;--dark-text:#333;--light-text:#666;--white:#fff;--light-gray:#f0f0f0;--border-gray:#e0e0e0}body{background-color:#f7f2ff;background-color:var(--bg-purple);color:#333;color:var(--dark-text);display:flex;flex-direction:column;min-height:100vh}.nav-bar{background-color:#7b5dd1;background-color:var(--main-purple);height:60px;left:0;padding:0 20px;position:fixed;top:0;width:100%;z-index:1001}.logo,.nav-bar{align-items:center;display:flex}.logo{flex-shrink:0;min-width:0}.logo-circle{background-color:#ffd25a;background-color:var(--accent-yellow);border-radius:50%;flex-shrink:0;height:40px;margin-right:15px;width:40px}.logo-text{font-size:22px;font-weight:700;min-width:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.logo-text,.nav-camera-btn{color:#fff;color:var(--white)}.nav-camera-btn{align-items:center;background-color:#2196f3;border:none;border-radius:50%;cursor:pointer;display:flex;height:40px;justify-content:center;transition:background-color .3s ease;width:40px}.nav-camera-btn:hover{background-color:#1976d2}.nav-camera-btn.active{background-color:#4caf50}.nav-camera-btn svg{height:20px;width:20px}.nav-right{gap:10px;margin-left:auto}.hamburger-btn,.nav-right{align-items:center;display:flex}.hamburger-btn{background:none;border:none;cursor:pointer;flex-direction:column;gap:4px;height:30px;justify-content:center;width:30px}.hamburger-line{background-color:#fff;background-color:var(--white);border-radius:2px;height:3px;position:relative;transition:all .3s ease;width:25px;z-index:1002}.hamburger-line.open:first-child{transform:rotate(45deg) translate(5px,5px)}.hamburger-line.open:nth-child(2){opacity:0}.hamburger-line.open:nth-child(3){transform:rotate(-45deg) translate(7px,-6px)}.mobile-menu{background-color:#fff;background-color:var(--white);border-radius:0 0 0 12px;box-shadow:0 4px 12px #00000026;display:block;opacity:0;overflow:hidden;position:absolute;right:0;top:60px;transform:translateY(-10px);transition:all .3s ease;visibility:hidden;z-index:1000}.mobile-menu.open{opacity:1;transform:translateY(0);visibility:visible}.mobile-menu-content{min-width:200px;padding:8px 0}.mobile-nav-item{background:none;border:none;display:block;font-size:16px;font-weight:700;padding:12px 20px;text-align:left;transition:background-color .3s ease;width:100%}.mobile-nav-item,.mobile-nav-item:hover{color:#333;color:var(--dark-text);text-decoration:none}.mobile-nav-item:hover{background-color:#f7f2ff;background-color:var(--bg-purple)}.mobile-nav-item.active{background-color:#7b5dd1;background-color:var(--main-purple);color:#fff;color:var(--white)}.mobile-nav-item.active:hover{background-color:#8c6be3;background-color:var(--light-purple);color:#fff;color:var(--white)}.mobile-menu-overlay{background-color:#00000080;bottom:0;display:block;left:0;position:fixed;right:0;top:0;z-index:999}.camera-preview-overlay{-webkit-touch-callout:none;-webkit-tap-highlight-color:transparent;background-color:#fff;background-color:var(--white);border:2px solid #7b5dd1;border:2px solid var(--main-purple);border-radius:12px;box-shadow:0 8px 32px #0000004d;cursor:move;max-width:200px;min-width:160px;position:fixed;touch-action:none;user-select:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;z-index:1000}.camera-preview-header{align-items:center;background-color:#7b5dd1;background-color:var(--main-purple);border-radius:10px 10px 0 0;color:#fff;color:var(--white);cursor:move;display:flex;justify-content:space-between;padding:8px 12px;touch-action:none}.camera-preview-title{font-size:14px;font-weight:700}.camera-minimize-btn{align-items:center;background:none;border:none;border-radius:3px;color:#fff;color:var(--white);cursor:pointer;display:flex;font-size:16px;font-weight:700;height:20px;justify-content:center;padding:0;transition:background-color .3s ease;-webkit-user-select:none;user-select:none;width:20px}.camera-minimize-btn:hover{background-color:#fff3}.camera-minimize-btn:active{background-color:#ffffff4d}.camera-preview-close{align-items:center;background:none;border:none;color:#fff;color:var(--white);cursor:pointer;display:flex;font-size:18px;height:20px;justify-content:center;padding:0;width:20px}.camera-preview-close:hover{background-color:#fff3;border-radius:50%}.camera-preview-content{padding:0;position:relative}.camera-preview-hint{background-color:#f0f0f0;background-color:var(--light-gray);border-radius:0 0 10px 10px;color:#333;color:var(--dark-text);font-size:12px;padding:0;text-align:center}.camera-error-overlay{background-color:#f44336e6;border-radius:8px;color:#fff;font-size:12px;left:12px;padding:8px;position:absolute;right:12px;text-align:center;top:12px}.camera-inline-container{background-color:#fff;background-color:var(--white);border:2px solid #7b5dd1;border:2px solid var(--main-purple);border-radius:12px;bottom:20px;box-shadow:0 4px 16px #0003;max-width:168px;position:fixed;right:20px;width:-webkit-fit-content;width:fit-content;z-index:900}.camera-inline-header{align-items:center;background-color:#7b5dd1;background-color:var(--main-purple);border-radius:10px 10px 0 0;color:#fff;color:var(--white);display:flex;justify-content:space-between;padding:12px 16px}.camera-inline-title{font-size:16px;font-weight:700}.camera-inline-overlay-btn{background-color:#fff3;border:1px solid #ffffff4d;border-radius:6px;color:#fff;color:var(--white);cursor:pointer;font-size:12px;padding:4px 8px;transition:background-color .3s ease}.camera-inline-overlay-btn:hover{background-color:#ffffff4d}.camera-inline-content{padding:1px;position:relative}.camera-error-inline{background-color:#f44336e6;border-radius:8px;color:#fff;font-size:14px;margin-top:12px;padding:12px;text-align:center}.container{flex:1 1;margin:0 auto;max-width:1280px;padding:80px 20px 20px;width:100%}.panel{background-color:#fff;background-color:var(--white)}.btn{align-items:center;border:none;border-radius:30px;cursor:pointer;display:inline-flex;font-weight:700;justify-content:center;padding:10px 20px;transition:background-color .3s ease}.btn-primary{background-color:#7b5dd1;background-color:var(--main-purple);color:#fff;color:var(--white)}.btn-primary:hover{background-color:#8c6be3;background-color:var(--light-purple)}.btn-success{background-color:#4caf50;color:#fff;color:var(--white)}.btn-circle{align-items:center;border-radius:50%;display:flex;height:40px;justify-content:center;padding:0;width:40px}.form-group{margin-bottom:20px}.form-label{color:#333;color:var(--dark-text);display:block;font-size:16px;margin-bottom:5px}.form-control{background-color:#f0f0f0;background-color:var(--light-gray);border:1px solid #e0e0e0;border:1px solid var(--border-gray);border-radius:10px;font-size:16px;padding:12px 15px;width:100%}.title{font-size:28px;margin-bottom:20px}.subtitle,.title{color:#7b5dd1;color:var(--main-purple);font-weight:700}.subtitle{font-size:22px;margin-bottom:15px}.progress{background-color:#f0f0f0;background-color:var(--light-gray);border-radius:7.5px;height:15px;overflow:hidden}.progress-bar{background-color:#7b5dd1;background-color:var(--main-purple);border-radius:7.5px;height:100%}.card{background-color:#fff;background-color:var(--white);border-radius:10px;margin-bottom:15px;padding:15px}.avatar{background-color:#7b5dd1;background-color:var(--main-purple);border-radius:50%;color:#fff;color:var(--white);font-size:24px;height:80px;width:80px}.avatar,.message-box{align-items:center;display:flex;justify-content:center}.message-box{background-color:#fff;background-color:var(--white);box-shadow:0 8px 32px #0000004d;height:300px;width:400px;z-index:9999}.message-content{display:flex;flex-direction:column;height:100%;justify-content:center;padding:30px;width:100%}.message-content p{color:#333;color:var(--dark-text);line-height:1.5;margin-bottom:15px}.message-content p:last-of-type{margin-bottom:25px}.ok-btn{background-color:#7b5dd1;background-color:var(--main-purple);border:none;border-radius:25px;color:var(--white);cursor:pointer;font-size:16px;font-weight:700;min-width:80px;padding:12px 24px;transition:background-color .3s ease}.ok-btn:hover{background-color:#8c6be3;background-color:var(--light-purple)}.cancel-btn{background-color:#f0f0f0;background-color:var(--light-gray);border:1px solid #e0e0e0;border:1px solid var(--border-gray);border-radius:25px;color:#333;color:var(--dark-text);cursor:pointer;font-size:16px;font-weight:700;min-width:80px;padding:12px 24px;transition:all .3s ease}.cancel-btn:hover{background-color:#e0e0e0;background-color:var(--border-gray)}@media (max-width:768px){.nav-bar{position:fixed}.container{padding-top:90px}.logo-text{font-size:18px}.nav-camera-btn{height:36px;width:36px}.nav-camera-btn svg{height:18px;width:18px}.message-box{height:280px;width:320px}.message-content p{font-size:14px}.message-buttons{flex-direction:column;gap:10px}.cancel-btn,.ok-btn{font-size:14px;padding:12px 20px;width:100%}.title{font-size:24px}.subtitle{font-size:20px}.camera-preview-overlay{left:5vw!important;max-width:90vw;min-width:140px;top:80px!important}.camera-minimize-btn{font-size:14px;height:18px;width:18px}.camera-inline-container{bottom:10px;max-width:168px;right:10px}.camera-inline-content{padding:1px}}@media (max-width:480px){.nav-bar{padding:0 15px}.container{padding-top:85px}.logo-text{font-size:16px}.logo-circle{margin-right:10px}.logo-circle,.nav-camera-btn{height:32px;width:32px}.nav-camera-btn svg{height:16px;width:16px}}.character-selection-container{display:flex;flex-direction:column}.page-title{margin:20px 0;text-align:center}.content-grid{display:flex;gap:20px;margin-bottom:30px}.profile-panel{flex:0 0 380px}.profile-panel,.settings-panel{background-color:var(--white);border:2px solid var(--border-gray);border-radius:15px;padding:20px}.settings-panel{flex:1 1}.name-input{background-color:var(--light-gray);border:1px solid var(--border-gray);border-radius:10px;font-size:18px;margin-bottom:20px;padding:15px;width:100%}.age-container{align-items:center;display:flex;margin-bottom:20px}.age-input{margin-right:10px;text-align:center;width:80px}.age-input,.age-select{background-color:var(--light-gray);border:1px solid var(--border-gray);border-radius:10px;font-size:18px;padding:15px}.age-select{cursor:pointer;width:120px}.age-label{color:var(--light-text);font-size:18px}.gender-options{display:flex;gap:10px;margin-bottom:20px;margin-top:10px}.gender-option{background-color:var(--light-gray);border:2px solid #0000;border-radius:20px;cursor:pointer;font-size:14px;padding:10px 15px;transition:all .2s ease}.gender-option.selected,.gender-option:hover{background-color:var(--pastel-purple)}.gender-option.selected{border-color:var(--main-purple);font-weight:700}.avatar-section{margin-bottom:20px}.avatar-options{display:flex;gap:20px;margin-top:10px}.avatar-option{align-items:center;border-radius:50%;cursor:pointer;display:flex;height:80px;justify-content:center;position:relative;width:80px}.avatar-option.selected{border:4px solid var(--main-purple)}.avatar-option.blue{background-color:var(--pastel-blue)}.avatar-option.pink{background-color:var(--pastel-purple)}.avatar-option.green{background-color:var(--pastel-green)}.avatar-face{height:100%;position:relative;width:100%}.avatar-eye{background-color:#333;border-radius:50%;height:16px;position:absolute;top:30px;width:16px}.avatar-eye-left{left:25px}.avatar-eye-right{right:25px}.avatar-mouth{border-bottom:2px solid #333;border-radius:0 0 10px 10px;bottom:25px;height:5px;left:calc(50% - 15px);position:absolute;width:30px}.color-section{margin-bottom:20px}.color-options{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}.color-option{border:2px solid #0000;border-radius:50%;cursor:pointer;height:40px;transition:all .2s ease;width:40px}.color-option:hover{transform:scale(1.1)}.color-option.selected{border:3px solid #333;box-shadow:0 0 10px #0000004d}.color-red{background-color:#f44336}.color-blue{background-color:#2196f3}.color-green{background-color:#4caf50}.color-orange{background-color:#ff9800}.color-purple{background-color:#9c27b0}.color-yellow{background-color:#ffeb3b}.color-pink{background-color:#e91e63}.color-brown{background-color:#795548}.color-black{background-color:#424242}.color-white{background-color:#fff;border:2px solid #ddd}.custom-color-container{align-items:center;display:flex;flex-direction:column;margin-top:10px}.custom-color-input{border:2px solid var(--border-gray);border-radius:50%;cursor:pointer;height:50px;margin-bottom:5px;padding:0;width:50px}.custom-color-label{color:var(--light-text);font-size:12px;text-align:center}.interests-section{margin-bottom:20px}.interests-tags{display:flex;flex-wrap:wrap;gap:10px;margin-top:10px}.interest-tag{background-color:var(--light-gray);border:2px solid #0000;border-radius:20px;cursor:pointer;font-size:14px;padding:10px 20px;transition:all .2s ease}.interest-tag.selected,.interest-tag:hover{background-color:var(--pastel-purple)}.interest-tag.selected{border-color:var(--main-purple);color:#333;font-weight:700}.custom-interest-container{align-items:center;display:flex;gap:10px;margin-top:15px}.custom-interest-input{background-color:var(--light-gray);border:1px solid var(--border-gray);border-radius:20px;flex:1 1;font-size:14px;padding:10px 15px}.add-interest-btn{background-color:var(--main-purple);border:none;border-radius:20px;color:#fff;cursor:pointer;font-size:14px;font-weight:700;padding:10px 20px;transition:all .2s ease}.add-interest-btn:hover:not(:disabled){background-color:#6a47b3;transform:scale(1.05)}.add-interest-btn:disabled{background-color:#ccc;cursor:not-allowed}.selected-interests{background-color:#f8f9fa;border:1px solid var(--border-gray);border-radius:10px;margin-top:15px;padding:15px}.form-label.small{color:var(--light-text);font-size:14px;margin-bottom:10px}.selected-interests-list{display:flex;flex-wrap:wrap;gap:8px}.selected-interest-item{align-items:center;background-color:var(--pastel-purple);border:1px solid var(--main-purple);border-radius:15px;display:flex;font-size:14px;gap:8px;padding:8px 12px}.remove-interest-btn{align-items:center;background:none;border:none;border-radius:50%;color:var(--main-purple);cursor:pointer;display:flex;font-size:16px;font-weight:700;height:20px;justify-content:center;transition:all .2s ease;width:20px}.remove-interest-btn:hover{background-color:var(--main-purple);color:#fff}.world-options-grid{grid-gap:15px;display:grid;gap:15px;grid-template-columns:repeat(3,1fr);grid-template-rows:repeat(2,1fr);margin-top:10px}.world-option-emoji{align-items:center;border-radius:15px;cursor:pointer;display:flex;flex-direction:column;justify-content:center;min-height:120px;overflow:hidden;padding:20px 15px;position:relative;text-align:center;transition:all .3s ease}.world-option-emoji:hover{box-shadow:0 6px 20px #00000026;filter:brightness(1.05);transform:translateY(-3px)}.world-option-emoji.selected{box-shadow:0 8px 25px #0003;filter:brightness(1.1);transform:translateY(-2px)}.world-option-emoji.selected:before{background:linear-gradient(45deg,#fff3,#ffffff1a);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.world-emoji{font-size:36px;margin-bottom:10px;text-shadow:0 2px 4px #0000001a}.world-name{color:#333;font-size:16px;font-weight:700;margin-bottom:6px;text-shadow:0 1px 2px #fffc}.world-description{color:#555;font-size:12px;line-height:1.4;text-shadow:0 1px 2px #fff9}.world-settings{margin-bottom:20px}.world-options{display:flex;gap:20px;margin-top:10px}.world-option{border-radius:10px;cursor:pointer;flex:1 1;height:150px;overflow:hidden;position:relative}.world-option-header{color:#fff;font-weight:700;height:30px}.world-option-content,.world-option-header{align-items:center;display:flex;justify-content:center}.world-option-content{height:120px}.world-forest{background-color:var(--pastel-green)}.world-forest .world-option-header{background-color:#81c784}.world-sea{background-color:var(--pastel-blue)}.world-sea .world-option-header{background-color:#64b5f6}.world-magic{background-color:#ffcdd2}.world-magic .world-option-header{background-color:#ef9a9a}.character-section{margin-top:20px}.character-options{display:flex;gap:20px;margin-top:10px}.character-card{align-items:center;border-radius:10px;cursor:pointer;display:flex;flex:1 1;flex-direction:column;height:200px;padding:15px}.character-card.selected{border:3px solid var(--main-purple)}.character-yellow{background-color:var(--pastel-yellow)}.character-purple{background-color:var(--pastel-purple)}.character-blue{background-color:var(--pastel-blue)}.character-new{background-color:var(--light-gray);border:2px dashed var(--border-gray)}.character-portrait{align-items:center;border-radius:50%;display:flex;height:80px;justify-content:center;margin:10px 0 20px;width:80px}.character-portrait-yellow{background-color:#ffeb3b}.character-portrait-purple{background-color:#ce93d8}.character-portrait-blue{background-color:#4fc3f7}.character-portrait-new{background-color:#e0e0e0;border:2px dashed #bdbdbd;border-radius:10px;height:50px;width:90px}.character-name{font-size:16px;font-weight:700;margin-bottom:5px}.character-desc{color:var(--light-text);font-size:14px;text-align:center}.character-new-text{color:#999}.selected-count{background-color:#f8f9fa;border:1px solid var(--border-gray);border-radius:20px;color:var(--light-text);font-size:14px;margin-bottom:15px;padding:8px 15px;text-align:center}.animal-options{grid-gap:15px;display:grid;gap:15px;grid-template-columns:repeat(auto-fit,minmax(150px,1fr));margin-top:15px}.animal-card{align-items:center;background-color:var(--white);border:2px solid var(--border-gray);border-radius:15px;cursor:pointer;display:flex;flex-direction:column;min-height:120px;padding:15px;transition:all .2s ease}.animal-card:hover:not(.disabled){border-color:var(--main-purple);box-shadow:0 4px 12px #0000001a;transform:translateY(-2px)}.animal-card.selected{background-color:var(--pastel-purple);border-color:var(--main-purple);box-shadow:0 4px 12px #7b5dd14d}.animal-card.disabled{cursor:not-allowed;filter:grayscale(50%);opacity:.5}.animal-emoji{font-size:32px;margin-bottom:8px}.animal-name{color:var(--dark-text);font-size:16px;font-weight:700;margin-bottom:5px}.animal-trait{color:var(--light-text);font-size:12px;line-height:1.3;text-align:center}.selected-animals{background-color:#f8f9fa;border:1px solid var(--border-gray);border-radius:10px;margin-top:20px;padding:15px}.selected-animals-list{display:flex;flex-wrap:wrap;gap:10px}.selected-animal-item{align-items:center;background-color:var(--pastel-purple);border:1px solid var(--main-purple);border-radius:20px;display:flex;font-size:14px;font-weight:700;padding:8px 15px}.start-adventure-btn{align-items:center;background-color:var(--main-purple);border-radius:30px;color:#fff;cursor:pointer;display:flex;font-size:24px;height:60px;justify-content:center;margin:0 auto 30px;width:340px}@media (max-width:1024px){.content-grid{flex-direction:column}.profile-panel{flex:none;width:100%}.world-options-grid{grid-template-columns:repeat(2,1fr);grid-template-rows:repeat(3,1fr)}.character-options,.world-options{flex-direction:column}.character-card,.world-option{margin:0 auto;max-width:500px;width:100%}}@media (max-width:768px){.world-options-grid{grid-template-columns:1fr;grid-template-rows:repeat(6,1fr)}}.welcome-bg{background:linear-gradient(180deg,#9c7af7,#7b5dd1);height:100%;left:0;position:absolute;top:0;width:100%;z-index:-2}.profile-icon{align-items:center;background-color:var(--light-gray);border-radius:50%;color:var(--main-purple);display:flex;font-size:12px;font-weight:700;height:40px;justify-content:center;position:absolute;right:20px;top:15px;width:40px}.welcome-glow{background:radial-gradient(circle,#ffffff4d 0,#fff0 70%);height:800px;left:50%;top:0;transform:translateX(-50%);width:800px}.cloud,.welcome-glow{position:absolute;z-index:-1}.cloud{background-color:#fff9;border-radius:50%}.cloud-1{left:200px;top:150px}.cloud-1,.cloud-2{height:100px;transform:scale(1.5);width:200px}.cloud-2{right:200px;top:200px}.star{background-color:#ffe57f;-webkit-clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);clip-path:polygon(50% 0,61% 35%,98% 35%,68% 57%,79% 91%,50% 70%,21% 91%,32% 57%,2% 35%,39% 35%);position:absolute;z-index:-1}.star-1{height:30px;right:250px;top:150px;width:30px}.star-2{height:20px;left:250px;top:250px;width:20px}.star-3{height:15px;right:400px;top:120px;width:15px}.welcome-content{align-items:center;display:flex;flex-direction:column;height:100vh;justify-content:center;padding:20px;text-align:center}.logo-large{background-color:var(--accent-yellow);border-radius:50%;height:200px;margin-bottom:30px;position:relative;width:200px}.logo-character{background-color:#ff9a7f;border-radius:80px 80px 0 0;height:80px;left:20px;position:absolute;top:50px;width:160px}.logo-eye{background-color:#fff;border-radius:50%;height:24px;position:absolute;width:24px}.logo-eye-1{left:60px;top:40px}.logo-eye-2{left:120px;top:40px}.logo-eye-pupil{background-color:#333;border-radius:50%;height:10px;left:7px;position:absolute;top:7px;width:10px}.logo-mouth{border-bottom:5px solid #333;border-radius:0 0 15px 15px;height:15px;left:85px;position:absolute;top:75px;width:30px}.welcome-title{color:var(--white);font-size:60px;font-weight:700;margin-bottom:10px}.welcome-subtitle{color:var(--white);font-size:24px;margin-bottom:50px}.start-btn{align-items:center;background-color:#4caf50;border:none;border-radius:40px;cursor:pointer;display:flex;font-size:32px;height:80px;justify-content:center;margin-bottom:30px;transition:background-color .3s ease;width:300px}.start-btn,.start-btn:hover{color:var(--white);text-decoration:none}.start-btn:hover{background-color:#388e3c}.camera-btn{align-items:center;background-color:#2196f3;border:none;border-radius:30px;color:var(--white);cursor:pointer;display:flex;font-size:18px;gap:8px;height:60px;justify-content:center;margin-bottom:20px;transition:background-color .3s ease;width:250px}.camera-btn:hover{background-color:#1976d2}.camera-btn svg{height:20px;width:20px}.camera-container{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#ffffff1a;border-radius:15px;box-shadow:0 4px 8px #0000001a;margin-top:20px;padding:20px}.camera-container video{border:2px solid var(--white);border-radius:10px;display:block;margin:0 auto}.camera-error{background-color:#f44336e6;border-radius:10px;color:#fff;font-size:14px;margin-left:auto;margin-right:auto;margin-top:10px;max-width:320px;padding:15px;text-align:center}.login-link{color:var(--white);font-size:18px;margin-bottom:20px;position:relative;text-decoration:none}.login-link:after{background-color:#ffffff80;bottom:-5px;content:"";height:1px;left:-90px;position:absolute;right:-90px}.version{bottom:10px;color:var(--white);font-size:12px;position:absolute;right:20px}.welcome-page{height:100vh;overflow:hidden;position:relative;width:100%}@media (max-width:1024px){.welcome-title{font-size:50px}.welcome-subtitle{font-size:20px}.start-btn{font-size:28px;height:70px;width:280px}.logo-large{height:180px;width:180px}.logo-character{height:70px;left:20px;top:45px;width:140px}}@media (max-width:768px){.welcome-content{justify-content:center;min-height:calc(100vh - 60px);padding:15px}.welcome-title{font-size:42px;margin-bottom:15px}.welcome-subtitle{font-size:18px;margin-bottom:40px}.start-btn{font-size:26px;height:65px;margin-bottom:25px;width:260px}.logo-large{height:160px;margin-bottom:25px;width:160px}.logo-character{height:65px;left:15px;top:40px;width:130px}.logo-eye{height:20px;width:20px}.logo-eye-1{left:50px;top:35px}.logo-eye-2{left:105px;top:35px}.logo-eye-pupil{height:8px;left:6px;top:6px;width:8px}.logo-mouth{height:12px;left:75px;top:65px;width:25px}.message-box{max-width:350px;padding:20px;width:90%}.message-buttons{flex-direction:row;gap:12px}.cancel-btn,.ok-btn{font-size:14px;min-width:80px;padding:10px 20px;width:auto}.cloud-1{left:150px;top:120px}.cloud-1,.cloud-2{height:75px;width:150px}.cloud-2{right:150px;top:160px}.star-1{height:25px;right:200px;top:130px;width:25px}.star-2{height:18px;left:200px;top:200px;width:18px}.star-3{height:12px;right:350px;top:100px;width:12px}}@media (max-width:480px){.welcome-content{padding:10px}.welcome-title{font-size:36px;margin-bottom:12px}.welcome-subtitle{font-size:16px;margin-bottom:35px}.start-btn{font-size:24px;height:60px;margin-bottom:20px;width:240px}.logo-large{height:140px;margin-bottom:20px;width:140px}.logo-character{height:55px;left:15px;top:35px;width:110px}.logo-eye{height:18px;width:18px}.logo-eye-1{left:40px;top:30px}.logo-eye-2{left:85px;top:30px}.logo-eye-pupil{height:7px;left:5px;top:5px;width:7px}.logo-mouth{height:10px;left:65px;top:55px;width:20px}.message-box{max-width:320px;padding:18px;width:95%}.message-content p:first-child{font-size:16px}.message-content p:nth-child(2){font-size:13px}.message-buttons{flex-direction:column;gap:8px;margin-top:15px}.cancel-btn,.ok-btn{font-size:14px;min-width:0;min-width:auto;padding:10px;width:100%}.cloud-1,.cloud-2{display:none}.star-1{height:20px;right:50px;top:110px;width:20px}.star-2{height:15px;left:50px;top:180px;width:15px}.star-3{display:none}.version{bottom:5px;font-size:10px;right:10px}}@media (max-width:768px) and (orientation:landscape){.welcome-content{justify-content:center;padding:10px}.welcome-title{font-size:32px;margin-bottom:8px}.welcome-subtitle{font-size:14px;margin-bottom:20px}.start-btn{font-size:20px;height:50px;margin-bottom:15px;width:200px}.logo-large{height:100px;margin-bottom:15px;width:100px}.logo-character{height:40px;left:10px;top:25px;width:80px}.message-box{max-width:400px;padding:15px}.message-buttons{flex-direction:row;gap:10px}.cancel-btn,.ok-btn{font-size:13px;min-width:80px;padding:8px 16px;width:auto}}.message-box{animation:fadeInScale .3s ease-out;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background-color:#fffffff2;border:2px solid #ffffff4d;border-radius:15px;box-shadow:0 8px 25px #0003;left:50%;max-width:400px;padding:25px;position:fixed;top:50%;transform:translate(-50%,-50%);width:90%;z-index:1000}.message-content{color:#333;text-align:center}.message-content p{font-size:16px;line-height:1.4;margin:10px 0}.message-content p:first-child{color:#2196f3;font-size:18px;font-weight:700}.message-content p:nth-child(2){color:#666;font-size:14px;margin-bottom:20px}.message-buttons{display:flex;gap:15px;justify-content:center;margin-top:20px}.cancel-btn,.ok-btn{border:none;border-radius:25px;cursor:pointer;font-size:16px;font-weight:700;min-width:100px;padding:12px 25px;transition:all .3s ease}.ok-btn{background-color:#4caf50;color:#fff}.ok-btn:hover{background-color:#388e3c;box-shadow:0 4px 12px #4caf504d;transform:translateY(-2px)}.cancel-btn{background-color:#f44336;color:#fff}.cancel-btn:hover{background-color:#d32f2f;box-shadow:0 4px 12px #f443364d;transform:translateY(-2px)}@keyframes fadeInScale{0%{opacity:0;transform:translate(-50%,-50%) scale(.8)}to{opacity:1;transform:translate(-50%,-50%) scale(1)}}.privacy-modal-overlay{align-items:center;animation:fadeIn .3s ease-out;background-color:#0009;display:flex;height:100%;justify-content:center;left:0;position:fixed;top:0;width:100%;z-index:1000}.privacy-modal-content{animation:slideUp .3s ease-out;background:linear-gradient(135deg,#fff,#f8f6ff);border:2px solid #9b7af733;border-radius:20px;box-shadow:0 10px 40px #7c5dd14d;max-height:80vh;max-width:600px;overflow-y:auto;width:90%}.privacy-modal-header{align-items:center;background:linear-gradient(135deg,#9b7af7,#7b5dd1);border-bottom:1px solid #9b7af733;border-radius:18px 18px 0 0;color:#fff;display:flex;justify-content:space-between;padding:20px 25px 10px}.privacy-modal-header h2{font-size:24px;font-weight:700;margin:0;text-shadow:0 2px 4px #0003}.privacy-modal-close{align-items:center;background:#fff3;border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;font-size:24px;height:35px;justify-content:center;transition:all .2s ease;width:35px}.privacy-modal-close:hover{background:#ffffff4d;transform:scale(1.1)}.privacy-modal-body{font-family:Noto Sans JP,sans-serif;line-height:1.6;padding:25px}.privacy-modal-body section{margin-bottom:20px}.privacy-modal-body h3{align-items:center;color:#7b5dd1;display:flex;font-size:18px;font-weight:700;gap:8px;margin-bottom:8px}.privacy-modal-body p{color:#4a4a4a;font-size:14px;margin-bottom:10px}.privacy-modal-body strong{color:#7b5dd1;font-weight:700}.privacy-modal-body ul{margin:10px 0;padding-left:20px}.privacy-modal-body li{color:#4a4a4a;font-size:14px;margin-bottom:5px}.privacy-update-info{border-top:1px solid #9b7af733;margin-top:20px;padding-top:15px;text-align:center}.privacy-update-info small{color:#888;font-size:12px}.privacy-modal-footer{padding:15px 25px 25px;text-align:center}.privacy-ok-button{background:linear-gradient(135deg,#9b7af7,#7b5dd1);border:none;border-radius:25px;box-shadow:0 4px 15px #9b7af766;color:#fff;cursor:pointer;font-size:16px;font-weight:700;padding:12px 30px;transition:all .3s ease}.privacy-ok-button:hover{box-shadow:0 6px 20px #9b7af799;transform:translateY(-2px)}.privacy-ok-button:active{transform:translateY(0)}.privacy-link{color:#fffc;cursor:pointer;display:inline-block;font-size:14px;margin-top:10px;text-decoration:none;transition:all .2s ease}.privacy-link:hover{color:#fff;text-decoration:underline}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}@keyframes slideUp{0%{opacity:0;transform:translateY(30px) scale(.9)}to{opacity:1;transform:translateY(0) scale(1)}}@media (max-width:768px){.privacy-modal-content{border-radius:15px;max-height:90vh;width:95%}.privacy-modal-header{border-radius:13px 13px 0 0;padding:15px 20px 10px}.privacy-modal-header h2{font-size:20px}.privacy-modal-body{padding:20px}.privacy-modal-body h3{font-size:16px}.privacy-modal-body li,.privacy-modal-body p{font-size:13px}.privacy-ok-button{font-size:14px;padding:10px 25px}}.emotion-detection-page{min-height:100vh;overflow:hidden;position:relative}.feedback-bg{background:linear-gradient(135deg,#667eea,#764ba2);height:100%;left:0;position:fixed;top:0;width:100%;z-index:-2}.feedback-glow{animation:glow-pulse 4s ease-in-out infinite;background:radial-gradient(circle,#ffffff1a 0,#0000 70%);border-radius:50%;height:60%;left:20%;position:fixed;top:20%;width:60%;z-index:-1}@keyframes glow-pulse{0%,to{opacity:.1;transform:scale(1)}50%{opacity:.2;transform:scale(1.2)}}.feedback-content{align-items:center;color:#fff;display:flex;flex-direction:column;min-height:100vh;padding:2rem}.feedback-title{font-size:2.5rem;font-weight:700;margin-bottom:2rem;text-align:center;text-shadow:2px 2px 4px #0000004d}.analysis-title{color:#fff;font-size:1.8rem;margin-bottom:1.5rem;text-align:center}.emotion-analysis-panel{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffff1a;border:1px solid #fff3;border-radius:20px;box-shadow:0 8px 32px #0000001a;max-width:900px;padding:2rem;width:100%}.camera-section{margin-bottom:2rem}.video-container{background:#000;border-radius:15px;box-shadow:0 4px 15px #0000004d;display:flex;justify-content:center;margin-bottom:1rem;overflow:hidden;position:relative}.video-container video{border-radius:15px;display:block}.video-container canvas{border-radius:15px}.controls{text-align:center}.button-group{display:flex;flex-wrap:wrap;gap:1rem;justify-content:center}.start-button,.stop-button{border:none;border-radius:25px;cursor:pointer;font-size:1.1rem;font-weight:700;min-width:200px;padding:12px 24px;text-transform:none;transition:all .3s ease}.start-button{background:linear-gradient(45deg,#4caf50,#45a049);color:#fff}.start-button:hover:not(:disabled){background:linear-gradient(45deg,#45a049,#4caf50);box-shadow:0 4px 15px #4caf5066;transform:translateY(-2px)}.start-button:disabled{background:#ccc;cursor:not-allowed}.stop-button{background:linear-gradient(45deg,#f44336,#d32f2f);color:#fff}.stop-button:hover{background:linear-gradient(45deg,#d32f2f,#f44336);box-shadow:0 4px 15px #f4433666;transform:translateY(-2px)}.error-message,.loading-message{background:#ffeb3b1a;border:1px solid #ffeb3b4d;border-radius:10px;color:#ffeb3b;margin:1rem 0;padding:1rem}.emotion-feedback-panel{margin-top:2rem}.emotion-title-container{margin-bottom:1.5rem}.emotion-title{font-size:1.5rem;margin-bottom:.5rem;text-align:center}.emotion-title-bar{background:#fff3;border-radius:4px;height:8px;margin:0 auto;overflow:hidden;width:80%}.emotion-title-bar-fill{border-radius:4px;height:100%;transition:all .5s ease}.circular-emotion-layout{align-items:center;display:flex;height:500px;justify-content:center;margin:2rem auto;position:relative;width:500px}.central-emotion-icon{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);z-index:10}.central-emotion-emoji{font-size:15rem;line-height:1;text-shadow:0 4px 8px #0000004d;transition:all .3s ease}.circular-gauges-container{height:100%;left:0;position:absolute;top:0;width:100%}.circular-emotion-gauge{left:50%;position:absolute;top:50%;transform:translate(-50%,-50%) rotate(var(--gauge-angle)) translateY(-180px) rotate(calc(var(--gauge-angle)*-1));transform-origin:0 0}.circular-gauge-container{align-items:center;display:flex;flex-direction:column;gap:.5rem;transform:scale(.9);transition:all .3s ease}.circular-gauge-container:hover{transform:scale(1.1)}.circular-gauge-label{align-items:center;-webkit-backdrop-filter:blur(15px);backdrop-filter:blur(15px);background:#0009;border:2px solid #ffffff4d;border-radius:16px;box-shadow:0 4px 20px #0006,inset 0 2px 4px #ffffff1a;display:flex;flex-direction:column;gap:.3rem;height:80px;justify-content:center;overflow:hidden;position:relative;transition:all .4s ease;width:80px}.circular-gauge-label:before{background:linear-gradient(180deg,var(--gauge-color),color-mix(in srgb,var(--gauge-color) 80%,#fff));border-radius:0 0 14px 14px;bottom:0;content:"";height:var(--gauge-percentage);left:0;opacity:.3;position:absolute;right:0;transition:height .6s cubic-bezier(.4,0,.2,1);z-index:1}.circular-gauge-label:hover{border-color:var(--gauge-color);box-shadow:0 6px 30px #00000080,0 0 20px var(--gauge-color),inset 0 2px 4px #fff3;transform:scale(1.15)}.circular-gauge-label:hover:before{opacity:.5}.gauge-emoji{animation:emoji-bounce 2s ease-in-out infinite;font-size:1.8rem;line-height:1;position:relative;transition:all .3s ease;z-index:2}@keyframes emoji-bounce{0%,to{transform:scale(1)}50%{transform:scale(1.1)}}.gauge-percentage{color:#fffffff2;font-size:.9rem;font-weight:700;line-height:1;position:relative;text-shadow:2px 2px 4px #000000e6;z-index:2}.circular-emotion-gauge[style*="height: 100"],.circular-emotion-gauge[style*="height: 70"],.circular-emotion-gauge[style*="height: 80"],.circular-emotion-gauge[style*="height: 90"]{animation:high-emotion-pulse 1.5s ease-in-out infinite}@keyframes high-emotion-pulse{0%,to{filter:brightness(1)}50%{filter:brightness(1.2) saturate(1.3)}}.character-eye{background:#333;border-radius:50%;height:12px;position:absolute;top:35%;width:12px;z-index:1}.character-eye-left{left:30%}.character-eye-right{right:30%}.character-mouth{border-radius:0 0 15px 15px;bottom:30%;height:15px;width:30px}.character-mouth,.emotion-text{left:50%;position:absolute;transform:translateX(-50%)}.emotion-text{bottom:-40px;font-size:.9rem;font-weight:700;text-shadow:1px 1px 2px #00000080;white-space:nowrap}.emotion-gauge-container{display:flex;flex-direction:column;gap:1rem}.emotion-gauge-grid{grid-gap:2rem;display:grid;gap:2rem;grid-template-columns:1fr 1fr;margin-top:1rem}.emotion-gauge-column{display:flex;flex-direction:column;gap:1rem}.emotion-column-title{background:#ffffff1a;border:1px solid #fff3;border-radius:8px;color:#ffffffe6;font-size:1rem;font-weight:700;margin-bottom:.5rem;padding:.5rem;text-align:center}.emotion-gauge-item{display:flex;flex-direction:column;gap:.5rem}.emotion-gauge-label{align-items:center;display:flex;font-size:.9rem;font-weight:700;justify-content:space-between}.emotion-percentage{color:#fffc}.emotion-gauge{background:#fff3;height:12px}.emotion-gauge,.emotion-gauge-fill{border-radius:6px;overflow:hidden;position:relative}.emotion-gauge-fill{height:100%}.emotion-gauge-fill:after{animation:shimmer 2s infinite;background:linear-gradient(90deg,#0000,#fff6,#0000);content:"";height:100%;left:-100%;position:absolute;top:0;width:100%}@keyframes shimmer{0%{left:-100%}to{left:100%}}.emotion-animation-container{height:100%;left:0;pointer-events:none;position:fixed;top:0;width:100%;z-index:1000}.animated-emoji{animation:emoji-float 3s ease-out forwards;font-size:2.5rem;pointer-events:none;position:absolute;text-shadow:0 2px 4px #0000004d;transform-origin:center}@keyframes emoji-float{0%{opacity:0;transform:translateY(0) scale(1) rotate(0deg)}10%{opacity:1;transform:translateY(-20px) scale(1.2) rotate(5deg)}20%{transform:translateY(-50px) scale(1.1) rotate(-3deg)}50%{opacity:.8;transform:translateY(-150px) scale(1) rotate(2deg)}80%{opacity:.4;transform:translateY(-250px) scale(.9) rotate(-1deg)}to{opacity:0;transform:translateY(-350px) scale(.6) rotate(0deg)}}.animated-emoji:nth-child(2n){animation-duration:2.8s;animation-timing-function:ease-in-out}.animated-emoji:nth-child(3n){animation-duration:3.2s;animation-timing-function:cubic-bezier(.25,.46,.45,.94)}.animated-emoji:nth-child(4n){animation-duration:2.5s;animation-timing-function:ease-out}.animated-emoji:nth-child(5n){animation-duration:3.5s;animation-timing-function:cubic-bezier(.55,.085,.68,.53)}.animated-emoji.happy-animation{animation-name:emoji-bounce-float}@keyframes emoji-bounce-float{0%{opacity:0;transform:translateY(0) scale(1) rotate(0deg)}10%{opacity:1;transform:translateY(-30px) scale(1.3) rotate(10deg)}20%{transform:translateY(-40px) scale(1.2) rotate(-5deg)}30%{transform:translateY(-60px) scale(1.15) rotate(8deg)}50%{opacity:.9;transform:translateY(-120px) scale(1.05) rotate(-3deg)}80%{opacity:.5;transform:translateY(-220px) scale(.9) rotate(2deg)}to{opacity:0;transform:translateY(-320px) scale(.7) rotate(0deg)}}.animated-emoji.angry-animation{animation-name:emoji-shake-float}@keyframes emoji-shake-float{0%{opacity:0;transform:translateY(0) scale(1) rotate(0deg)}5%{opacity:1;transform:translateY(-10px) scale(1.1) rotate(-3deg)}10%{transform:translateY(-15px) scale(1.2) rotate(3deg)}15%{transform:translateY(-25px) scale(1.15) rotate(-4deg)}20%{transform:translateY(-35px) scale(1.1) rotate(4deg)}25%{transform:translateY(-45px) scale(1.05) rotate(-2deg)}50%{opacity:.8;transform:translateY(-120px) scale(1) rotate(1deg)}80%{opacity:.4;transform:translateY(-220px) scale(.9) rotate(-1deg)}to{opacity:0;transform:translateY(-320px) scale(.6) rotate(0deg)}}.animated-emoji.surprised-animation{animation-name:emoji-pop-float}@keyframes emoji-pop-float{0%{opacity:0;transform:translateY(0) scale(.5) rotate(0deg)}10%{opacity:1;transform:translateY(-25px) scale(1.4) rotate(8deg)}20%{transform:translateY(-50px) scale(1.3) rotate(-5deg)}30%{transform:translateY(-70px) scale(1.2) rotate(3deg)}50%{opacity:.9;transform:translateY(-140px) scale(1.1) rotate(-2deg)}80%{opacity:.5;transform:translateY(-240px) scale(.9) rotate(1deg)}to{opacity:0;transform:translateY(-340px) scale(.7) rotate(0deg)}}@media (max-width:768px){.animated-emoji{font-size:2rem}@keyframes emoji-float{0%{opacity:0;transform:translateY(0) scale(1) rotate(0deg)}10%{opacity:1;transform:translateY(-15px) scale(1.1) rotate(5deg)}20%{transform:translateY(-35px) scale(1.05) rotate(-3deg)}50%{opacity:.8;transform:translateY(-100px) scale(1) rotate(2deg)}80%{opacity:.4;transform:translateY(-180px) scale(.9) rotate(-1deg)}to{opacity:0;transform:translateY(-250px) scale(.7) rotate(0deg)}}.feedback-content{padding:1rem}.feedback-title{font-size:2rem}.emotion-analysis-panel{padding:1.5rem}.video-container video{max-width:100%}.circular-emotion-layout{height:400px;margin:1rem auto;width:400px}.central-emotion-emoji{font-size:6rem}.circular-emotion-gauge{transform:translate(-50%,-50%) rotate(var(--gauge-angle)) translateY(-140px) rotate(calc(var(--gauge-angle)*-1))}.circular-gauge-label{height:65px;width:65px}.gauge-emoji{font-size:1.4rem}.gauge-percentage{font-size:.8rem}.emotion-gauge-grid{display:none}}@media (max-width:480px){.animated-emoji{font-size:1.5rem}@keyframes emoji-float{to{opacity:0;transform:translateY(-200px) scale(.8) rotate(0deg)}}.feedback-title{font-size:1.5rem}.analysis-title{font-size:1.3rem}.start-button,.stop-button{font-size:1rem;min-width:auto;padding:10px 20px}.circular-emotion-layout{height:320px;margin:.5rem auto;width:320px}.central-emotion-emoji{font-size:4.5rem}.circular-emotion-gauge{transform:translate(-50%,-50%) rotate(var(--gauge-angle)) translateY(-110px) rotate(calc(var(--gauge-angle)*-1))}.circular-gauge-label{height:55px;width:55px}.gauge-emoji{font-size:1.2rem}.gauge-percentage{font-size:.7rem}}.simple-emotion-gauge{-webkit-backdrop-filter:blur(5px);backdrop-filter:blur(5px);background-color:#0000001a;border-radius:8px;padding:8px}.simple-emotion-display{align-items:center;display:flex;font-size:12px;gap:8px}.simple-emotion-emoji{font-size:16px;transition:all .3s ease}.simple-emotion-gauge-bar{background-color:#fff3;border-radius:3px;flex:1 1;height:6px;min-width:40px;overflow:hidden}.simple-emotion-gauge-fill{border-radius:3px;height:100%;transition:width .3s ease-in-out}.simple-emotion-percentage{font-size:10px;font-weight:700;min-width:28px;text-align:center}.camera-preview-with-emotion .emotion-gauge-overlay{bottom:8px;left:8px;position:absolute;right:8px;z-index:10}.overlay-emotion-gauge{background-color:#000000b3;color:#fff}.camera-inline-with-emotion .emotion-gauge-inline{margin-top:8px}.inline-emotion-gauge{background-color:#ffffffe6;border:1px solid #0000001a;color:#333}.analysis-status{margin-top:4px;text-align:center}.analysis-indicator{color:var(--main-purple);font-size:10px;font-weight:500}.camera-preview-hint .analysis-indicator{color:#4caf50;font-weight:700}@media (max-width:768px){.simple-emotion-display{font-size:11px;gap:6px}.simple-emotion-emoji{font-size:14px}.simple-emotion-gauge-bar{height:5px;min-width:30px}.simple-emotion-percentage{font-size:9px;min-width:24px}}.camera-emotion-gauge{background-color:#000000b3;border-radius:10px;color:#fff;cursor:pointer;transition:all .3s ease}.camera-emotion-gauge:hover{background-color:#000c;transform:scale(1.05)}.camera-preview-with-emotion .camera-preview-hint,.camera-preview-with-emotion .emotion-gauge-container{margin-top:0;padding-top:0}@keyframes shake-animation{0%,to{transform:translateX(0)}10%{transform:translateX(-2px) rotate(-.5deg)}20%{transform:translateX(2px) rotate(.5deg)}30%{transform:translateX(-2px) rotate(-.5deg)}40%{transform:translateX(2px) rotate(.5deg)}50%{transform:translateX(-1px) rotate(-.3deg)}60%{transform:translateX(1px) rotate(.3deg)}70%{transform:translateX(-1px) rotate(-.2deg)}80%{transform:translateX(1px) rotate(.2deg)}90%{transform:translateX(-.5px) rotate(-.1deg)}}@keyframes shake-intense-animation{0%,to{transform:translateX(0) translateY(0)}10%{transform:translateX(-3px) translateY(-1px) rotate(-1deg)}20%{transform:translateX(3px) translateY(1px) rotate(1deg)}30%{transform:translateX(-3px) translateY(-1px) rotate(-1deg)}40%{transform:translateX(3px) translateY(1px) rotate(1deg)}50%{transform:translateX(-2px) translateY(-.5px) rotate(-.5deg)}60%{transform:translateX(2px) translateY(.5px) rotate(.5deg)}70%{transform:translateX(-1px) translateY(-.3px) rotate(-.3deg)}80%{transform:translateX(1px) translateY(.3px) rotate(.3deg)}90%{transform:translateX(-.5px) translateY(-.1px) rotate(-.1deg)}}.shake-animation{animation:shake-animation .8s ease-in-out infinite}.shake-intense-animation{animation:shake-intense-animation .6s ease-in-out infinite}.camera-video-shake{animation:shake-animation 1.2s ease-in-out infinite}.camera-video-shake-intense{animation:shake-intense-animation 1s ease-in-out infinite}.emotion-gauge-shake{animation:shake-animation 1s ease-in-out infinite}.emotion-gauge-shake-intense{animation:shake-intense-animation .8s ease-in-out infinite}.everyone-adventure-page{background-color:#f8f9fa;margin:0 auto;max-width:1200px;min-height:100vh;padding:2rem 1rem}.page-header{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:1rem;box-shadow:0 8px 16px #0000001a;color:#fff;margin-bottom:3rem;padding:2rem;text-align:center}.page-header h1{font-size:2.5rem;font-weight:700;margin-bottom:.5rem}.page-header p{font-size:1.2rem;margin-bottom:1rem;opacity:.9}.storybook-count{align-items:center;display:flex;gap:1rem;justify-content:center;margin-top:1rem}.storybook-count span{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fff3;border-radius:2rem;padding:.5rem 1rem}.header-actions{align-items:center;display:flex;gap:1rem}.create-storybook-button{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:linear-gradient(135deg,#28a745,#20c997);border:1px solid #ffffff4d;border-radius:2rem;color:#fff;cursor:pointer;font-size:1rem;font-weight:700;padding:.7rem 1.5rem;transition:all .3s ease}.create-storybook-button:hover{background:linear-gradient(135deg,#20c997,#17a2b8);box-shadow:0 5px 15px #28a7454d;transform:translateY(-2px)}.refresh-button{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fff3;border:1px solid #ffffff4d;border-radius:2rem;color:#fff;cursor:pointer;padding:.5rem 1rem;transition:all .3s ease}.refresh-button:hover{background:#ffffff4d;transform:translateY(-2px)}.search-and-filter{background:#fff;border-radius:1rem;box-shadow:0 4px 12px #0000001a;display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem;padding:1.5rem}.search-bar{margin:0 auto;max-width:400px;position:relative}.search-input{border:2px solid #e3e3e3;border-radius:2rem;font-size:1rem;padding:.75rem 1rem .75rem 3rem;transition:all .3s ease;width:100%}.search-input:focus{border-color:#667eea;box-shadow:0 0 0 3px #667eea1a;outline:none}.search-icon{color:#666;font-size:1.2rem;left:1rem;position:absolute;top:50%;transform:translateY(-50%)}.sort-buttons{display:flex;gap:1rem;justify-content:center}.sort-button{background:#f8f9fa;border:2px solid #e3e3e3;border-radius:2rem;cursor:pointer;font-size:.9rem;padding:.5rem 1rem;transition:all .3s ease}.sort-button:hover{background:#e9ecef;transform:translateY(-2px)}.sort-button.active{background:linear-gradient(135deg,#667eea,#764ba2);border-color:#667eea;color:#fff}.amazon-affiliate{background:#fff;border-radius:1rem;box-shadow:0 4px 12px #0000001a;margin-bottom:2rem;padding:1.5rem}.amazon-affiliate h3{color:#333;font-size:1.3rem;margin-bottom:1rem;text-align:center}.amazon-books{display:flex;gap:1rem;justify-content:center}.amazon-book{background:#f8f9fa;border:1px solid #e3e3e3;border-radius:.5rem;display:flex;gap:1rem;max-width:280px;padding:1rem}.amazon-book-image{flex-shrink:0}.placeholder-book{align-items:center;background:linear-gradient(135deg,#ff9a56,#ff6b6b);border-radius:.5rem;color:#fff;display:flex;font-size:1.5rem;height:80px;justify-content:center;width:60px}.amazon-book-info h4{color:#333;font-size:.9rem;margin-bottom:.25rem}.amazon-book-info .author{color:#666;font-size:.8rem;margin-bottom:.25rem}.amazon-book-info .price{color:#e47911;font-size:1rem;font-weight:700;margin-bottom:.5rem}.amazon-link{background:#f90;border-radius:.25rem;color:#fff;display:inline-block;font-size:.8rem;padding:.3rem .6rem;text-decoration:none;transition:background .3s ease}.amazon-link:hover{background:#e88900}.loading-container{padding:4rem 2rem;text-align:center}.loading-spinner{animation:spin 1s linear infinite;border:4px solid #e3e3e3;border-radius:50%;border-top-color:#667eea;height:3rem;margin:0 auto 1rem;width:3rem}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.error-container{padding:4rem 2rem;text-align:center}.error-message{color:#dc3545;font-size:1.1rem;margin-bottom:1rem}.retry-button{background:#dc3545;border:none;border-radius:.5rem;color:#fff;cursor:pointer;font-size:1rem;padding:.75rem 1.5rem;transition:all .3s ease}.retry-button:hover{background:#c82333;transform:translateY(-2px)}.storybooks-grid{grid-gap:2rem;display:grid;gap:2rem;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));padding:1rem 0}.storybook-panel{background:#fff;border-radius:1rem;box-shadow:0 4px 12px #0000001a;cursor:pointer;overflow:hidden;position:relative;transition:all .3s ease}.storybook-panel:hover:not(.importing){box-shadow:0 8px 25px #00000026;transform:translateY(-8px)}.storybook-panel.importing{cursor:not-allowed;opacity:.6}.storybook-panel.premium{border:2px solid gold}.premium-badge{background:linear-gradient(135deg,gold,#ff8c00);border-radius:1rem;color:#fff;font-size:.75rem;font-weight:700;left:.5rem;padding:.25rem .5rem;position:absolute;top:.5rem;z-index:2}.storybook-panel:before{background:#667eea1a;bottom:0;content:"";left:0;opacity:0;pointer-events:none;position:absolute;right:0;top:0;transition:opacity .3s ease;z-index:1}.storybook-panel:hover:not(.importing):before{opacity:1}.storybook-image-container{align-items:center;background:linear-gradient(135deg,#f093fb,#f5576c);display:flex;height:200px;justify-content:center;position:relative;width:100%}.storybook-image{height:100%;object-fit:cover;transition:transform .3s ease;width:100%}.storybook-panel:hover .storybook-image{transform:scale(1.05)}.no-image-placeholder{align-items:center;background:linear-gradient(135deg,#84fab0,#8fd3f4);display:flex;height:100%;justify-content:center;width:100%}.no-image-placeholder span{font-size:3rem;opacity:.8}.like-button{align-items:center;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#ffffffe6;border:none;border-radius:1.5rem;cursor:pointer;display:flex;gap:.25rem;padding:.5rem .75rem;position:absolute;right:.5rem;top:.5rem;transition:all .3s ease;z-index:2}.like-button:hover{background:#fff;transform:scale(1.1)}.like-button.liked{background:#ffc0cbe6}.like-icon{font-size:1rem}.like-count{color:#333;font-size:.8rem;font-weight:700}.storybook-info{padding:1.5rem}.storybook-title{-webkit-line-clamp:2;-webkit-box-orient:vertical;color:#333;display:-webkit-box;font-size:1.3rem;font-weight:700;line-height:1.4;margin-bottom:.75rem;overflow:hidden}.storybook-metadata{margin-bottom:1rem}.storybook-date{color:#666}.storybook-date,.storybook-pages{font-size:.9rem;margin-bottom:.25rem}.storybook-pages{color:#667eea;font-weight:500}.storybook-price{color:#28a745;font-size:1rem;font-weight:700}.storybook-actions{justify-content:space-between}.storybook-actions,.storybook-stats{align-items:center;display:flex}.file-size{background:#f8f9fa;border-radius:.25rem;color:#666;font-size:.8rem;padding:.25rem .5rem}.purchase-buttons{display:flex;gap:.5rem}.purchase-digital-button{background:linear-gradient(135deg,#28a745,#20c997);border:none;border-radius:.5rem;color:#fff;cursor:pointer;font-size:.8rem;padding:.4rem .8rem;transition:all .3s ease}.purchase-digital-button:hover{background:linear-gradient(135deg,#20c997,#17a2b8);transform:translateY(-2px)}.purchase-physical-button{background:linear-gradient(135deg,#ff6b6b,#ee5a52);border:none;border-radius:.5rem;color:#fff;cursor:pointer;font-size:.8rem;padding:.4rem .8rem;transition:all .3s ease}.purchase-physical-button:hover{background:linear-gradient(135deg,#ee5a52,#dc3545);transform:translateY(-2px)}.no-storybooks{color:#666;grid-column:1/-1;padding:4rem 2rem;text-align:center}.no-storybooks p{font-size:1.1rem;margin-bottom:.5rem}@media (max-width:768px){.everyone-adventure-page{padding:1rem .5rem}.page-header{margin-bottom:2rem;padding:1.5rem 1rem}.page-header h1{font-size:2rem}.page-header p{font-size:1rem}.storybook-count{flex-direction:column;gap:.5rem}.search-and-filter{padding:1rem}.search-bar{max-width:100%}.sort-buttons{flex-wrap:wrap;gap:.5rem}.sort-button{font-size:.8rem;padding:.4rem .8rem}.amazon-books{align-items:center;flex-direction:column}.amazon-book{max-width:100%}.storybooks-grid{gap:1.5rem;grid-template-columns:repeat(auto-fill,minmax(250px,1fr))}.storybook-info{padding:1rem}.storybook-title{font-size:1.1rem}.purchase-buttons{flex-direction:column;gap:.25rem}.purchase-digital-button,.purchase-physical-button{font-size:.7rem;padding:.3rem .6rem}}@media (max-width:480px){.storybooks-grid{gap:1rem;grid-template-columns:1fr}.storybook-image-container{height:180px}.search-input{font-size:.9rem}.amazon-affiliate{padding:1rem}.amazon-book{padding:.75rem}}.create-storybook-page{font-family:Hiragino Sans,Meiryo,sans-serif;margin:0 auto;max-width:1400px;padding:20px}.create-storybook-page .page-header{align-items:center;border-bottom:2px solid #e6f3ff;display:flex;justify-content:space-between;margin-bottom:30px;padding-bottom:20px}.create-storybook-page .page-header h1{color:#2c3e50;font-size:2.5rem;margin:0}.create-storybook-page .header-actions{display:flex;gap:15px}.create-storybook-page .back-button,.create-storybook-page .save-button{border:none;border-radius:25px;cursor:pointer;font-size:1rem;font-weight:700;padding:12px 24px;transition:all .3s ease}.create-storybook-page .back-button{background:linear-gradient(135deg,#6c757d,#495057);color:#fff}.create-storybook-page .back-button:hover{box-shadow:0 5px 15px #6c757d4d;transform:translateY(-2px)}.create-storybook-page .save-button{background:linear-gradient(135deg,#28a745,#20c997);color:#fff}.create-storybook-page .save-button:hover{box-shadow:0 5px 15px #28a7454d;transform:translateY(-2px)}.create-storybook-page .main-content{display:flex;gap:30px;height:calc(100vh - 200px)}.create-storybook-page .page-list{background:#f8f9fa;border-radius:15px;overflow-y:auto;padding:20px;width:300px}.create-storybook-page .page-list h3{color:#2c3e50;font-size:1.2rem;margin-bottom:15px}.create-storybook-page .page-thumbnails{display:flex;flex-direction:column;gap:10px}.create-storybook-page .page-thumbnail{background:#fff;border:2px solid #dee2e6;border-radius:10px;cursor:pointer;padding:10px;position:relative;transition:all .3s ease}.create-storybook-page .page-thumbnail:hover{border-color:#74b9ff;transform:translateX(5px)}.create-storybook-page .page-thumbnail.active{background:#e3f2fd;border-color:#0984e3}.create-storybook-page .thumbnail-content{align-items:center;background:#f1f3f4;border-radius:5px;display:flex;height:80px;justify-content:center;overflow:hidden;width:100%}.create-storybook-page .thumbnail-content img{height:100%;object-fit:cover;width:100%}.create-storybook-page .thumbnail-content .no-image{font-size:2rem;opacity:.5}.create-storybook-page .page-number{color:#6c757d;font-size:.9rem;font-weight:700;margin-top:8px;text-align:center}.create-storybook-page .delete-page-btn{align-items:center;background:#dc3545;border:none;border-radius:50%;color:#fff;cursor:pointer;display:flex;font-size:1.2rem;font-weight:700;height:25px;justify-content:center;position:absolute;right:-5px;top:-5px;transition:all .3s ease;width:25px}.create-storybook-page .delete-page-btn:hover{background:#c82333;transform:scale(1.1)}.create-storybook-page .add-page-btn{background:linear-gradient(135deg,#74b9ff,#0984e3);border:none;border-radius:10px;color:#fff;cursor:pointer;font-size:1rem;font-weight:700;padding:15px;transition:all .3s ease}.create-storybook-page .add-page-btn:hover{box-shadow:0 5px 15px #74b9ff4d;transform:translateY(-2px)}.create-storybook-page .edit-area{background:#fff;border-radius:15px;box-shadow:0 2px 20px #0000001a;flex:1 1;overflow-y:auto;padding:30px}.create-storybook-page .edit-area h3{border-bottom:2px solid #e6f3ff;color:#2c3e50;font-size:1.5rem;margin-bottom:20px;padding-bottom:10px}.create-storybook-page .edit-section{background:#f8f9fa;border-radius:10px;margin-bottom:30px;padding:20px}.create-storybook-page .edit-section h4{color:#495057;font-size:1.2rem;margin-bottom:15px}.create-storybook-page .image-area{border:2px dashed #dee2e6;border-radius:10px;height:200px;margin-bottom:15px;overflow:hidden;width:100%}.create-storybook-page .image-preview{height:100%;position:relative;width:100%}.create-storybook-page .image-preview img{background:#fff;height:100%;object-fit:contain;width:100%}.create-storybook-page .remove-image-btn{background:#dc3545e6;border:none;border-radius:5px;color:#fff;cursor:pointer;font-size:.8rem;padding:5px 10px;position:absolute;right:10px;top:10px;transition:background-color .3s ease}.create-storybook-page .remove-image-btn:hover{background:#c82333}.create-storybook-page .no-image-placeholder{align-items:center;background:#f1f3f4;color:#6c757d;display:flex;font-size:1.1rem;height:100%;justify-content:center;width:100%}.create-storybook-page .image-controls{display:flex;flex-direction:column;gap:15px}.create-storybook-page .generate-section,.create-storybook-page .upload-section{align-items:center;display:flex;gap:10px}.create-storybook-page .upload-btn{background:linear-gradient(135deg,#6c757d,#495057);border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:.9rem;font-weight:700;padding:10px 20px;transition:all .3s ease}.create-storybook-page .upload-btn:hover{box-shadow:0 3px 10px #6c757d4d;transform:translateY(-1px)}.create-storybook-page .prompt-input{border:2px solid #dee2e6;border-radius:8px;flex:1 1;font-size:.9rem;padding:10px 15px;transition:border-color .3s ease}.create-storybook-page .prompt-input:focus{border-color:#74b9ff;box-shadow:0 0 5px #74b9ff4d;outline:none}.create-storybook-page .generate-btn{background:linear-gradient(135deg,#74b9ff,#0984e3);border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:.9rem;font-weight:700;padding:10px 20px;transition:all .3s ease}.create-storybook-page .generate-btn:hover:not(:disabled){box-shadow:0 3px 10px #74b9ff4d;transform:translateY(-1px)}.create-storybook-page .generate-btn:disabled{background:#6c757d;cursor:not-allowed;opacity:.6}.create-storybook-page .text-controls{margin-bottom:15px}.create-storybook-page .text-input{border:2px solid #dee2e6;border-radius:8px;font-family:Hiragino Sans,Meiryo,sans-serif;font-size:1rem;padding:15px;resize:vertical;transition:border-color .3s ease;width:100%}.create-storybook-page .text-input:focus{border-color:#74b9ff;box-shadow:0 0 5px #74b9ff4d;outline:none}.create-storybook-page .audio-controls{align-items:center;display:flex;flex-wrap:wrap;gap:15px}.create-storybook-page .play-btn{background:linear-gradient(135deg,#28a745,#20c997);border:none;border-radius:8px;color:#fff;cursor:pointer;font-size:.9rem;font-weight:700;padding:10px 20px;transition:all .3s ease}.create-storybook-page .play-btn:hover{box-shadow:0 3px 10px #28a7454d;transform:translateY(-1px)}.create-storybook-page .help-text{color:#6c757d;font-size:.9rem;font-style:italic;margin:0}@media (max-width:1200px){.create-storybook-page .main-content{flex-direction:column;height:auto}.create-storybook-page .page-list{max-height:200px;width:100%}.create-storybook-page .page-thumbnails{flex-direction:row;overflow-x:auto}.create-storybook-page .page-thumbnail{min-width:120px}}@media (max-width:768px){.create-storybook-page{padding:15px}.create-storybook-page .page-header{flex-direction:column;gap:15px;text-align:center}.create-storybook-page .page-header h1{font-size:2rem}.create-storybook-page .header-actions{justify-content:center}.create-storybook-page .main-content{gap:20px}.create-storybook-page .edit-area{padding:20px}.create-storybook-page .audio-controls,.create-storybook-page .generate-section,.create-storybook-page .image-controls,.create-storybook-page .upload-section{align-items:stretch;flex-direction:column}}